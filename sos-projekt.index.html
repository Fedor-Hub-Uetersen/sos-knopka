<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>SOS-–∫–Ω–æ–ø–∫–∞ –¥–ª—è —Å–µ–º—å–∏</title>
    <style>
        body {
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            height: 100vh;
            margin: 0;
            background-color: #000;
            font-family: sans-serif;
            color: white;
            text-align: center;
        }

        /* –°—Ç–∏–ª—å –∫–Ω–æ–ø–∫–∏ SOS */
        .sos-button {
            width: 280px;
            height: 280px;
            background: radial-gradient(#ff4b2b, #ff416c);
            border: 8px solid white;
            border-radius: 50%;
            color: white;
            font-size: 50px;
            font-weight: bold;
            cursor: pointer;
            box-shadow: 0 0 40px rgba(255, 0, 0, 0.7);
            animation: pulse 2s infinite;
        }

        /* –ê–Ω–∏–º–∞—Ü–∏—è –ø—É–ª—å—Å–∞—Ü–∏–∏, —á—Ç–æ–±—ã –∫–Ω–æ–ø–∫—É –±—ã–ª–æ –≤–∏–¥–Ω–æ */
        @keyframes pulse {
            0% { box-shadow: 0 0 0 0 rgba(255, 0, 0, 0.7); }
            70% { box-shadow: 0 0 0 30px rgba(255, 0, 0, 0); }
            100% { box-shadow: 0 0 0 0 rgba(255, 0, 0, 0); }
        }

        #status {
            margin-top: 30px;
            font-size: 20px;
            padding: 0 20px;
        }
    </style>
</head>
<body>

    <button class="sos-button" onclick="startEmergency()">SOS</button>
    <p id="status">–ù–∞–∂–º–∏ –≤ —ç–∫—Å—Ç—Ä–µ–Ω–Ω–æ–π —Å–∏—Ç—É–∞—Ü–∏–∏</p>

    <script>
        const WIFE_PHONE = "+4917661566358"; // –ù–æ–º–µ—Ä –∂–µ–Ω—ã
        const MY_PHONE = "+4917661566343";   // –¢–≤–æ–π –Ω–æ–º–µ—Ä

        function startEmergency() {
            const status = document.getElementById('status');
            
            if (!navigator.geolocation) {
                status.innerText = "–û—à–∏–±–∫–∞: –ì–µ–æ–ª–æ–∫–∞—Ü–∏—è –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è";
                return;
            }

            status.innerText = "üö® –ü–æ–ª—É—á–∞—é –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã...";

            navigator.geolocation.getCurrentPosition(
                (position) => {
                    const lat = position.coords.latitude;
                    const lon = position.coords.longitude;
                    const mapUrl = `https://www.google.com/maps?q=${lat},${lon}`;
                    const message = `SOS! –ú–Ω–µ –Ω—É–∂–Ω–∞ –ø–æ–º–æ—â—å! –ú–æ—ë –º–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏–µ: ${mapUrl}`;

                    status.innerText = "üìç –ö–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã –ø–æ–ª—É—á–µ–Ω—ã. –û—Ç–ø—Ä–∞–≤–ª—è—é...";

                    // –ü–æ–ø—ã—Ç–∫–∞ –æ—Ç–ø—Ä–∞–≤–∏—Ç—å —á–µ—Ä–µ–∑ WhatsApp (—Å–∞–º—ã–π —É–¥–æ–±–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç)
                    // –ï—Å–ª–∏ –Ω—É–∂–Ω–æ –∏–º–µ–Ω–Ω–æ SMS, –∑–∞–º–µ–Ω–∏ 'wa.me' –Ω–∞ 'sms:'
                    const whatsappUrl = `https://wa.me/${WIFE_PHONE.replace('+', '')}?text=${encodeURIComponent(message)}`;
                    
                    window.location.href = whatsappUrl;
                },
                (error) => {
                    status.innerText = "‚ùå –û—à–∏–±–∫–∞: –í–∫–ª—é—á–∏—Ç–µ GPS –Ω–∞ —Ç–µ–ª–µ—Ñ–æ–Ω–µ";
                },
                { enableHighAccuracy: true }
            );
        }
    </script>

</body>
</html>
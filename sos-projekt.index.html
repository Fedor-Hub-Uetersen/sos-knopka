<!DOCTYPE html>
<html lang="ru">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <title>SOS –ö–æ–Ω—Ç—Ä–æ–ª—å</title>
    <style>
        body {
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            height: 100vh;
            margin: 0;
            background-color: #121212;
            font-family: 'Segoe UI', Roboto, Helvetica, Arial, sans-serif;
            color: white;
            text-align: center;
        }

        .container {
            display: flex;
            flex-direction: column;
            gap: 40px;
        }

        .btn-sos {
            width: 220px;
            height: 220px;
            background: linear-gradient(145deg, #ff0000, #cc0000);
            border: 6px solid #fff;
            border-radius: 50%;
            color: white;
            font-size: 44px;
            font-weight: bold;
            cursor: pointer;
            box-shadow: 0 0 30px rgba(255, 0, 0, 0.6);
            transition: 0.2s;
        }

        .btn-sos:active { transform: scale(0.9); }

        .btn-ok {
            width: 180px;
            padding: 15px;
            background: #25d366;
            border: none;
            border-radius: 30px;
            color: white;
            font-size: 20px;
            font-weight: bold;
            cursor: pointer;
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.3);
        }

        #status {
            margin-top: 20px;
            font-size: 16px;
            color: #aaa;
            height: 24px;
        }
    </style>
</head>
<body>

    <div class="container">
        <button class="btn-sos" onclick="sendSOS()">SOS</button>
        <button class="btn-ok" onclick="sendOK()">–Ø –í –ü–û–†–Ø–î–ö–ï</button>
        <div id="status">–í—ã–±–µ—Ä–∏—Ç–µ –¥–µ–π—Å—Ç–≤–∏–µ</div>
    </div>

    <script>
        const PHONE_WIFE = "4917661566358"; // –ù–æ–º–µ—Ä –∂–µ–Ω—ã

        function sendSOS() {
            updateStatus("üö® –û–ø—Ä–µ–¥–µ–ª—è—é –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç—ã...");
            getLocation((mapUrl) => {
                const text = `üö® –°–†–û–ß–ù–û –ù–£–ñ–ù–ê –ü–û–ú–û–©–¨! –ú–æ–µ –º–µ—Å—Ç–æ–ø–æ–ª–æ–∂–µ–Ω–∏–µ: ${mapUrl}`;
                openWhatsApp(text);
            });
        }

        function sendOK() {
            updateStatus("‚úÖ –û—Ç–ø—Ä–∞–≤–ª—è—é —Å—Ç–∞—Ç—É—Å...");
            const text = "‚úÖ –°–æ –º–Ω–æ–π –≤—Å–µ –≤ –ø–æ—Ä—è–¥–∫–µ, –Ω–µ –≤–æ–ª–Ω—É–π—Ç–µ—Å—å!";
            openWhatsApp(text);
        }

        function getLocation(callback) {
            if (!navigator.geolocation) {
                updateStatus("–û—à–∏–±–∫–∞: GPS –Ω–µ –ø–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ—Ç—Å—è");
                return;
            }

            navigator.geolocation.getCurrentPosition(
                (pos) => {
                    // –ò–°–ü–†–ê–í–õ–ï–ù–û: –ü—Ä–∞–≤–∏–ª—å–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç —Å—Ç—Ä–æ–∫–∏ —Å –∫–æ–æ—Ä–¥–∏–Ω–∞—Ç–∞–º–∏
                    const url = `https://www.google.com/maps?q=${pos.coords.latitude},${pos.coords.longitude}`;
                    callback(url);
                },
                (err) => {
                    updateStatus("‚ùå –û—à–∏–±–∫–∞: –í–∫–ª—é—á–∏—Ç–µ GPS –Ω–∞ —Ç–µ–ª–µ—Ñ–æ–Ω–µ");
                    console.error(err);
                },
                { 
                    enableHighAccuracy: true,
                    timeout: 10000 
                }
            );
        }

        function openWhatsApp(message) {
            const url = `https://wa.me/${PHONE_WIFE}?text=${encodeURIComponent(message)}`;
            window.location.href = url;
            updateStatus("–ì–æ—Ç–æ–≤–æ!");
        }

        function updateStatus(msg) {
            document.getElementById('status').innerText = msg;
        }
    </script>

</body>
</html>
